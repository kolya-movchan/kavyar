(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2123],{74218:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/english",function(){return t(20827)}])},20827:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return en}});var s=t(85893),o=t(67294),l=t(30155),i=t(89508),r=t(64059),u=t(37388),a=t(828),c=t(94184),d=t.n(c),v=t(20268),m=t(8864),h=t(60014),g=t(28945),f=t(34038),p=t(35721),_=t.n(p),x=function(e){var n=e.englishLevel,t=e.className,i=(0,f.$G)([l.WY.englishCourse]).t,r=(0,o.useMemo)((function(){return n&&n!==v.OnN.Unspecified?function(e){switch(e){case v.OnN.Beginner:case v.OnN.LowElementary:return m._u.Crab;case v.OnN.HighElementary:case v.OnN.LowPreIntermediate:return m._u.Fish;case v.OnN.HighPreIntermediate:case v.OnN.LowIntermediate:return m._u.Turtle;case v.OnN.HighIntermediate:case v.OnN.UpperIntermediate:case v.OnN.Advanced:return m._u.Bird;default:return m._u.Unspecified}}(n):i("".concat(l.WY.englishCourse,":english_level_unspecified"))}),[n,i]),u=(0,o.useMemo)((function(){return(0,g.X)(n)}),[n]),a=Object.values(m._u).filter((function(e){return e!==m._u.Unspecified})).map((function(e){var n=(0,g.X)(e),t=i("".concat(l.WY.englishCourse,":tooltip_level.explanation_").concat(e.toLocaleLowerCase()));return{level:e,Icon:n,explanation:t}}));return(0,s.jsxs)("div",{className:d()(t,_().levelContainer,"small-mb-16 flex-container align-middle"),children:[(0,s.jsxs)("p",{className:d()(h.c.text,"mr-8"),children:["".concat(i("".concat(l.WY.englishCourse,":user_english_level"))," "),(0,s.jsx)("span",{className:h.c.accentText,children:r})]}),(0,s.jsx)(u,{className:_().bigIcon}),(0,s.jsx)("div",{className:_().levelTooltip,children:a.map((function(e){var n=e.level,t=e.Icon,o=e.explanation;return(0,s.jsxs)("li",{className:d()(_().levelItem,"flex-container align-middle"),children:[(0,s.jsx)(t,{}),(0,s.jsxs)("p",{className:d()("color-white ml-8"),children:[(0,s.jsx)("span",{className:h.c.accentText,children:n})," \u2014 ".concat(o)]})]},n)}))})]})},C=t(83575),T=t(29053),b=t(76581),j=t.n(b),E=function(){var e=(0,f.$G)([l.WY.englishCourse]).t;return(0,s.jsx)(C.zx,{size:C.qE.Large,mode:C.qo.Secondary,href:T.Z.user.eventsEnglishLesson,text:e("".concat(l.WY.englishCourse,":english_events_link")),className:j().link,rel:"noopener noreferrer",target:"_blank"})},N=t(34744),L=t(17702),M=t(22592),w=t(51308),W=t.n(w),A=function(e){var n=e.totalAttended,t=e.attendedDuringSevenDays,o=(0,f.$G)([l.WY.englishCourse]).t;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:W().progressCircle,children:(0,s.jsx)(L._,{progress:t/4*100,size:32,withCaption:!1,strokeWidth:20,pathColor:M.r.color.red,trailColor:M.r.color.lightRed})}),(0,s.jsxs)("p",{className:d()(W().attendedLessons,"ml-8 mr-40"),children:[(0,s.jsx)("span",{children:"".concat(t,"/").concat(4," ").concat(o("".concat(l.WY.englishCourse,":lessons_counter.weekly")))}),(0,s.jsx)("span",{className:d()(W().verticalLine,"ml-8 mr-8")}),(0,s.jsx)("span",{children:"".concat(n," ").concat(o("".concat(l.WY.englishCourse,":lessons_counter.total")))})]})]})},k=t(86446),R=t.n(k),Y=function(e){var n=e.englishLevel,t=(0,f.$G)([l.WY.englishCourse]).t,i=(0,v.ljy)(),r=i.loading,u=i.error,a=i.data,c=!(r||u),m=(0,o.useMemo)((function(){return c&&(null===a||void 0===a?void 0:a.attendedEnglishLessonsCount)?a.attendedEnglishLessonsCount:{totalAttended:0,attendedThisWeek:0}}),[c,a]),g=(0,o.useMemo)((function(){return m&&c}),[m,c]),p=m.totalAttended,_=m.attendedThisWeek,C=n&&n!==v.OnN.Unspecified;return(0,s.jsxs)("div",{className:R().container,children:[(0,s.jsxs)("div",{className:"flex-container align-center-middle",children:[(0,s.jsx)("h2",{className:d()(h.c.h1,"color-text small-mb-16"),children:t("".concat(l.WY.englishCourse,":english_course_title"))}),(0,s.jsx)("div",{className:d()(R().leftSideContainer,"ml-32"),children:(0,s.jsx)(x,{englishLevel:n,className:d()({"mr-16":C})})})]}),(0,s.jsx)("div",{children:g?(0,s.jsxs)("div",{className:"flex-container align-center-middle",children:[(0,s.jsx)(A,{totalAttended:p,attendedDuringSevenDays:_}),C&&(0,s.jsx)(E,{})]}):(0,s.jsx)(N.a,{loading:!0,size:20})})]})},I=t(76467),S=t(61118),y=t.n(S),P=t(14924),z=t(69765),B=t(99251),D=t.n(B),U=t(98652),Z=t(82349),G=t(58392),q=t(2739),O=t(49335),F=t(34225),$=t.n(F),H=o.memo((function(e){var n,t=e.module,l=e.setActive,i=e.moduleStatus,r=e.isRecommended,u=e.isUpgradeTest,a=(0,o.useMemo)((function(){return i!==U.n.NoTasks&&(i===U.n.InProgress||r)&&!u}),[u,r,i]),c=i===U.n.Completed&&!u,v=!a&&!c,m=(0,Z.c3)(t);return(0,s.jsxs)("div",{className:d()($().wrapper,"moduleProgress",(0,P.Z)({},$().wrapperDone,c)),children:[c&&(0,s.jsx)(G.w,{setActive:l}),a&&(0,s.jsx)(q.D,{totalProgress:null===(n=t.meta)||void 0===n?void 0:n.totalCompletionPercent,requiredProgress:m,size:80,setActive:l}),v&&(0,s.jsx)(O._,{module:t,setActive:l})]})})),X=t(39902),V=t(36203),J=t(18487),K=t(85286),Q=t(47568),ee=t(20414),ne=t(16072),te=t(98698),se=t(45855),oe=t(34145),le=t(39028),ie=t(64277),re=t(37117),ue=o.memo((function(e){var n=e.slug,t=e.moduleId,i=e.baseHandler,r=e.className,u=e.isRecommended,c=e.shouldRenderStartTestText,d=e.disabled,m=e.topicLink,h=(0,f.$G)().t,g=(0,oe.ZW)().showMessage,p=(0,le.q)(n),_=p.handleClick,x=p.handleMouseOver,T=(0,f.tv)(),b=(0,a.Z)((0,v.WVB)({onCompleted:(0,Q.Z)((function(){return(0,ee.__generator)(this,(function(e){return m?[2,T.push(m.href,m.as)]:[2,_()]}))})),onError:function(e){ie.P.captureException(e,{logMessage:"[LEARN]: Can't create course user",logLevel:ne.LogLevels.Error,fields:{moduleId:t}}),g({type:te.oK.error,heading:h("".concat(l.WY.englishCourse,":failed_to_start_course")),text:h("".concat(l.WY.learn,":").concat(e.message))})},refetchQueries:[{query:se.kM}]}),2),j=b[0],E=b[1],N=(0,o.useCallback)((0,Q.Z)((function(){return(0,ee.__generator)(this,(function(e){switch(e.label){case 0:return[4,j({variables:{courseId:t}})];case 1:return e.sent(),i(X.G.events.startButtonClicked),[2]}}))})),[j,t,i]),L=h(c?"".concat(l.WY.englishCourse,":start_test_button"):"".concat(l.WY.learn,":courses.start_button"));return(0,s.jsx)(C.zx,{mode:u?C.zx.mode.Primary:C.zx.mode.TransparentLight,size:C.zx.size.Large,LeftIcon:u?void 0:re.J,hasFullWidth:u,className:r,isLoading:E.loading,onClick:N,text:L,disabled:d,onMouseOver:function(){d||x()}})})),ae=o.memo((function(e){var n=e.slug,t=e.baseHandler,i=e.className,r=e.isRecommended,u=e.disabled,a=e.topicLink,c=(0,f.$G)().t,d=(0,f.tv)(),v=(0,o.useCallback)((function(){t(X.G.events.continueButtonClicked)}),[t]),m=(0,le.q)(n,v),h=m.handleClick,g=m.handleMouseOver;return(0,s.jsx)(C.zx,{className:i,mode:r?C.zx.mode.Primary:C.zx.mode.TransparentLight,size:C.zx.size.Large,LeftIcon:r?void 0:re.J,hasFullWidth:r,onClick:function(){return a?d.push(a.href,a.as):h()},onMouseOver:g,text:c("".concat(l.WY.learn,":courses.continue_button")),disabled:u})})),ce=t(77094),de=t(54145),ve=t.n(de),me=o.memo((function(e){var n=e.baseHandler,t=e.hasPlacementTestAccess,i=e.onReview,r=e.isDisabled,u=(0,f.$G)([l.WY.englishCourse]).t,a=(0,o.useCallback)((function(){return n(X.G.events.blockedModuleButtonClicked)}),[n]),c=u("".concat(l.WY.englishCourse,i?":on_review_button":":previous_blocked_button")),v=t?c:u("".concat(l.WY.learn,":courses.subscription_button"));return(0,s.jsx)(C.zx,{mode:C.zx.mode.TransparentLight,href:t||r?void 0:T.Z.subscription,className:d()((0,P.Z)({},ve().dimButton,t||r)),onClick:a,LeftIcon:ce._,text:v})})),he=function(e,n){var t,s,o=null===n||void 0===n||null===(t=n.courseUser)||void 0===t?void 0:t.courseUserTopics;if(!o)return null;var l=o.find((function(n){return(null===n||void 0===n?void 0:n.courseTopic.slug)===(null===e||void 0===e?void 0:e.slug)}));return l&&(null===(s=l.testTaskLink)||void 0===s?void 0:s.attempts[0])||null},ge=o.memo((function(e){var n=e.module,t=e.moduleStatus,l=e.isRecommended,i=e.onReview,r=e.hasPlacementTestAccess,u=e.shouldRenderStartTestText,a=e.isDisabled,c=n.slug,d=function(e){switch(e){case U.n.NotReleasedTopics:return V.c;case U.n.InProgress:return ae;case U.n.RequiredCompleted:return J.n;case U.n.NotStarted:return ue;case U.n.Completed:case U.n.NoTasks:return K.Y;default:return me}}(t),v=(0,o.useCallback)((function(e){X.G.sendEvent(e,{course:c,source:e})}),[c]);return d?(0,s.jsx)(d,{slug:c,moduleId:n.id,baseHandler:v,isRecommended:l,onReview:i,hasPlacementTestAccess:r,shouldRenderStartTestText:u,isDisabled:a}):null})),fe=t(94592),pe=t(68207),_e=t(61350),xe=t(5541),Ce=t(38803),Te=t(80388),be=o.memo((function(e){var n=e.slug,t=e.className,l=e.spaced,i=void 0===l||l,r=e.hasCourseAccess,u=void 0!==r&&r,c=(0,Te.B)().language,d=(0,a.Z)((0,fe.J)(n,c),2),v=d[0],m=d[1],h=(0,o.useCallback)((function(e){return u?(0,Ce.m)(e):{status:_e.hk.Blocked,isAccessGranted:!1}}),[u]);return(0,s.jsx)(pe.q,{className:t,spaced:i,isLoading:m.loading,children:v.map((function(e,t){return(0,s.jsx)(xe.c,{topic:e,slug:n,index:t,topicStatus:h(e)},e.id)}))})})),je=t(70018),Ee=t(1282),Ne=t.n(Ee),Le=o.memo((function(e){var n=e.isActive,t=e.setActive,o=e.classNames;return(0,s.jsx)(C.zx,{mode:C.zx.mode.Gray,size:C.zx.size.Small,onClick:t,renderRigthIcon:function(){return(0,s.jsx)(je.C,{className:d()(Ne().icon,{active:n})})},className:d()(o,D().moduleToggle)})})),Me=function(e){var n=e.secondaryLabel;return(0,s.jsx)("p",{className:h.c.accentText,children:n})},we=function(e){var n=e.module,t=e.setActive,o=e.isActive,i=e.className,r=e.isUpgradeTest,u=(0,f.$G)([l.WY.englishCourse]).t,a=r?u("".concat(l.WY.englishCourse,":progress_test.secondary_label")):function(e){switch(e.split("-")[1]){case"crab":return"Newbie";case"fish":return"Elementary";case"turtle":return"Pre-Intermediate";case"bird":return"Intermediate+";default:return""}}(n.slug);return(0,s.jsx)("div",{className:i,children:(0,s.jsxs)("div",{className:d()(D().shortInfo,{"mb-12":o||r}),children:[(0,s.jsxs)("div",{className:"flex-container mb-8",children:[(0,s.jsx)("h2",{className:h.c.h1,children:n.nameShort}),!r&&(0,s.jsx)(Le,{isActive:o,setActive:t,classNames:"ml-8"})]}),(0,s.jsx)(Me,{secondaryLabel:a})]})})},We=t(13173),Ae=t(97367),ke=t(6583),Re=function(){var e=(0,f.$G)([l.WY.englishCourse]).t,n=(0,o.useCallback)((function(){X.G.sendEvent(X.G.events.activateEnglishSubscriptionClicked,{source:"EnglishCoursePage"})}),[]);return(0,s.jsx)(C.zx,{hasFullWidth:!0,size:C.qE.Large,text:e("".concat(l.WY.englishCourse,":english_redirect_button_text")),href:T.Z.subscriptions.active,onClick:n})},Ye=t(99629),Ie=function(e){var n=e.children,t=e.userCourseType,o=e.isStudent,i=(0,f.$G)([l.WY.englishCourse]).t,r=(0,Ae.h)().isEnabled(ke.A.ShowEnlgishSubscriptionTooltip);return!t&&r&&o?(0,s.jsx)(Ye.eE,{text:i("".concat(l.WY.englishCourse,":only_for_students_tooltip")),widthMode:Ye.X3.Max,children:n}):(0,s.jsx)(s.Fragment,{children:n})},Se=t(57747),ye=o.memo((function(e){var n,t=e.module,i=e.isActive,r=e.setActive,u=e.isRecommended,c=e.onReview,m=e.hasPlacementTestAccess,g=e.hasRequiredLevel,p=e.className,_=e.renderRedirectButton,x=(0,Te.B)().language,C=(0,f.$G)([l.WY.englishCourse]).t,T=g?(0,z.o)(t):U.n.NotBought,b=t.slug.includes("placement"),j=t.meta.isCompleted,E=b&&!j,N=b&&c?C("".concat(l.WY.englishCourse,":on_review_placement_info")):t.aboutCourse,L=(0,a.Z)((0,v.z7u)(),2),M=L[0],w=L[1],W=w.called,A=w.data,k=w.loading,R=w.error;(0,o.useEffect)((function(){u&&M({variables:{slug:t.slug,lang:x}})}),[]);var Y=(0,o.useMemo)((function(){return W&&!(k||R)}),[W,R,k]),I=(0,o.useMemo)((function(){var e;return Y&&(null===A||void 0===A||null===(e=A.course)||void 0===e?void 0:e.courseTopics)}),[Y,A]),S=(0,o.useRef)(null);(0,o.useEffect)((function(){u&&S.current&&I&&window.scrollTo(0,S.current.offsetTop)}),[u,S,I]);var y,B=b&&c,Z=(0,Ae.h)().isEnabled(ke.A.EnglishCourseRedirectButton),G=null===(n=(0,v.jTz)({variables:{filter:{active:!1}}}).data)||void 0===n?void 0:n.userSubscriptions,q=[v.Qe_.EnglishOneMonth,v.Qe_.EnglishThreeMonths,v.Qe_.EnglishFourMonths],O=null===G||void 0===G?void 0:G.some((function(e){return q.includes(e.subscriptionPlan.type)&&e.startType===v.gPM.Manual})),F=(0,a.Z)((0,Se.f)(),1)[0],$=!(null===F||void 0===F?void 0:F.courseType),X=(null===F||void 0===F?void 0:F.userRole)===v.i44.Student;return(0,s.jsx)(We.V,{ref:S,className:d()(p,D().moduleBorder,(y={},(0,P.Z)(y,D().recommendedModule,u),(0,P.Z)(y,D().onReviewModule,B),(0,P.Z)(y,D().modulePassed,j),y)),renderProgress:function(){return(0,s.jsx)(H,{module:t,moduleStatus:T,setActive:r,isActive:i,isRecommended:u})},renderTitle:function(){return(0,s.jsx)(we,{module:t,setActive:r,isActive:i})},renderContent:function(){return(0,s.jsx)(s.Fragment,{children:i&&(0,s.jsx)("p",{className:d()(h.c.text,D().content),children:N})})},renderCta:function(){return(0,s.jsx)(s.Fragment,{children:Z&&O&&_?(0,s.jsx)(Re,{}):(0,s.jsx)(Ie,{userCourseType:null===F||void 0===F?void 0:F.courseType,isStudent:X,children:(0,s.jsx)(ge,{module:t,moduleStatus:T,isRecommended:u,onReview:c,hasPlacementTestAccess:O?!m:m,isActive:i,isDisabled:$,shouldRenderStartTestText:E})})})},renderTopicsList:function(){return(0,s.jsx)(s.Fragment,{children:i&&(0,s.jsx)(be,{slug:t.slug,hasCourseAccess:g})})},children:(u||B)&&(0,s.jsx)("div",{className:d()(D().moduleLabel,(0,P.Z)({},D().moduleLabelOnReview,B)),children:C("".concat(l.WY.englishCourse,u?":recommended_label":":on_review_label"))})})})),Pe=t(5878),ze=t(77318),Be=t.n(ze),De=t(43644),Ue=function(e){var n=e.recommendedEnglishModuleIndex,t=e.englishLevel,i=(0,f.$G)([l.WY.englishCourse]).t,r=t&&t!==v.OnN.Unspecified,u=(0,o.useState)(!1),c=u[0],m=u[1],g=(0,a.Z)((0,De._)("recommended_english_module",n),2),p=g[0],_=g[1];(0,o.useEffect)((function(){n>p&&r&&(m(!0),_(n))}),[n,r]);var x=t||v.OnN.Unspecified,T=(0,a.Z)((0,De._)("user_common_english_level",x),2),b=T[0],j=T[1],E=(0,o.useState)(!1),N=E[0],L=E[1];(0,o.useEffect)((function(){b&&x!==b&&(j(x),L(!0),m(!0))}),[x]);var M=function(){m(!1)},w=N?Pe.$T.Info:Pe.$T.Success;return(0,s.jsxs)(Pe.u_,{isOpen:c,onRequestClose:M,type:w,renderTitle:function(){return(0,s.jsx)("h3",{className:h.c.h2,children:i("".concat(l.WY.englishCourse,N?":level_upgrade.title":":new_level_modal.title"))})},children:[(0,s.jsx)("p",{className:d()(h.c.text,"mb-32"),children:i("".concat(l.WY.englishCourse,N?":level_upgrade.body":":new_level_modal.body"))}),(0,s.jsx)("div",{className:Be().buttonContainer,children:(0,s.jsx)(C.zx,{mode:C.qo.Primary,size:C.qE.Small,text:i("".concat(l.WY.englishCourse,":new_level_modal.button_text")),onClick:M})})]})},Ze=function(e,n,t,s,l){var i=(0,oe.ZW)().showMessage,r=function(e){var n;return null===(n=e.courseUser)||void 0===n?void 0:n.courseUserTopics.filter((function(e){return e.testTaskLink.attempts.some((function(e){return(null===e||void 0===e?void 0:e.status)===v.tet.Failed}))}))}(e),u=null===r||void 0===r?void 0:r.filter((function(e){var n,t,s=null===e||void 0===e?void 0:e.courseTopic.slug;return(null===l||void 0===l||null===(n=l.quizTopic)||void 0===n?void 0:n.slug)===s||(null===l||void 0===l||null===(t=l.attachmentTopic)||void 0===t?void 0:t.slug)===s})).map((function(e){return e.id})),c=(0,a.Z)((0,v.cAS)({onCompleted:function(){t(!0)},onError:function(n){ie.P.captureException(n,{logMessage:"[English Course]: Can't reset userTopics for upgradeTest",logLevel:ne.LogLevels.Error,fields:{moduleId:null===e||void 0===e?void 0:e.id,topicIdsToReset:u}}),i(te.X3.general.unexpectedError)}}),2),d=c[0],m=c[1].called;return(0,o.useCallback)((function(){n&&(null===u||void 0===u?void 0:u.length)&&!m&&d({variables:{courseUserTopicIds:u}}),(null===u||void 0===u?void 0:u.length)||t(!0)}),[m,n,d,t,u])},Ge=t(75869),qe=o.memo((function(e){var n,t,l=e.module,i=e.onReview,r=e.hasAccess,u=e.shouldRenderStartButton,a=e.notStarted,c=e.topicsData,d=l.slug,v=(0,o.useCallback)((function(e){X.G.sendEvent(e,{course:d,source:e})}),[d]),m=(0,o.useState)(!a),h=m[0],g=m[1],f=Ze(l,Boolean(r),g,0,c);(0,o.useEffect)((function(){h||f()}),[f,h]);var p=!r||!h||i,_=u?null===c||void 0===c||null===(n=c.quizTopic)||void 0===n?void 0:n.slug:null===c||void 0===c||null===(t=c.attachmentTopic)||void 0===t?void 0:t.slug,x=_?(0,Ge.d)(l.slug,_,T.Z.user.english):void 0;return u?(0,s.jsx)(ue,{slug:d,moduleId:l.id,baseHandler:v,isRecommended:r,disabled:p,shouldRenderStartTestText:!0,topicLink:x}):(0,s.jsx)(ae,{slug:d,baseHandler:v,isRecommended:r,disabled:p,topicLink:x})})),Oe=function(e,n,t,s,i){var r=(0,Te.B)().language,u=(0,f.$G)([l.WY.englishCourse]).t;return(0,o.useMemo)((function(){var t,o,a=null===i||void 0===i?void 0:i.status;if(n)return a===v.tet.Passed?u("".concat(l.WY.englishCourse,":progress_test.quiz_passed")):e.aboutCourse;if(!n&&!(null===e||void 0===e||null===(t=e.courseUser)||void 0===t?void 0:t.nextTryDate))return e.aboutCourse;var c=function(e,n){return n&&Intl.DateTimeFormat(e,{day:"numeric",month:"numeric",year:"numeric"}).format(new Date(n))}(r,null===e||void 0===e||null===(o=e.courseUser)||void 0===o?void 0:o.nextTryDate);return i?a===v.tet.Failed?u("".concat(l.WY.englishCourse,":progress_test.rejection_quiz"),{nextTryDate:c}):u("".concat(l.WY.englishCourse,":progress_test.rejection_attachment"),{nextTryDate:c,reviewComment:s}):u("".concat(l.WY.englishCourse,":progress_test.blocked_by_previous_test"),{nextTryDate:c})}),[n,r,e,i,s,u])},Fe=function(e){var n,t=e.module,i=e.upgradeTestData,r=(0,f.$G)([l.WY.englishCourse]).t,u=i.topicsData,a=i.hasProgress,c=i.hasAccess,m=(0,o.useMemo)((function(){var e=he(null===u||void 0===u?void 0:u.attachmentTopic,t);return"AttachAttempt"===(null===e||void 0===e?void 0:e.__typename)?null===e||void 0===e?void 0:e.reviews[0]:null}),[t,null===u||void 0===u?void 0:u.attachmentTopic]),g=c&&(null===m||void 0===m?void 0:m.status)===v.ZDo.Pending,p=c&&(!a||(null===m||void 0===m?void 0:m.status)===v.ZDo.Rejected),_=(0,o.useMemo)((function(){return he(null===u||void 0===u?void 0:u.quizTopic,t)}),[t,null===u||void 0===u?void 0:u.quizTopic]),x=Oe(t,c,null===m||void 0===m||m.status,null===m||void 0===m?void 0:m.comment,_),C=g?r("".concat(l.WY.englishCourse,":on_review_placement_info")):x;return(0,s.jsx)(We.V,{className:d()(D().moduleBorder,"mb-24",(n={},(0,P.Z)(n,D().recommendedModule,c),(0,P.Z)(n,D().onReviewModule,g),n)),renderProgress:function(){return(0,s.jsx)(H,{module:t,setActive:function(){},isActive:!0,isUpgradeTest:!0})},renderTitle:function(){return(0,s.jsx)(we,{module:t,setActive:function(){},isActive:!0,isUpgradeTest:!0})},renderContent:function(){return(0,s.jsx)("p",{className:d()(h.c.text,D().content),children:C})},renderCta:function(){return(0,s.jsx)(qe,{module:t,onReview:g,shouldRenderStartButton:p,hasAccess:c,notStarted:p,topicsData:u})},children:(c||g)&&(0,s.jsx)("div",{className:d()(D().moduleLabel,(0,P.Z)({},D().moduleLabelOnReview,g)),children:r("".concat(l.WY.englishCourse,g?":on_review_label":":recommended_label"))})})},$e=t(58877),He=function(e){var n,t,o=e.moduleSlug,i=(0,Ae.h)().isEnabled(ke.A.EnglishUpgradeTest),r=(0,oe.ZW)().showMessage,u=(0,Te.B)().language,a=(0,f.$G)().t,c=(0,v.$au)({variables:{slug:o||"",lang:u},onError:function(e){r({type:te.oK.error,heading:a("".concat(l.WY.englishCourse,":failed_to_load_progress_test")),text:a("".concat(l.WY.learn,":").concat(e.message))}),ie.P.captureException(e,{logLevel:ne.LogLevels.Error,logMessage:"[English course]: Failed to load progressTest info",fields:{moduleSlug:o}})}}).data,d=(0,$e.V)(null===c||void 0===c?void 0:c.course),m=null!==(t=null===c||void 0===c?void 0:c.course)&&void 0!==t?t:null;return i&&m&&Boolean(null===d||void 0===d||null===(n=d.topicsData)||void 0===n?void 0:n.recommendedTopic)?(0,s.jsx)(Fe,{module:m,upgradeTestData:d}):null},Xe=function(e){var n=e.modules,t=e.englishLevel,l=e.isMateUser,i=(0,a.Z)(function(e){var n,t=(0,v.q8m)().data,s=null===t||void 0===t||null===(n=t.authUser)||void 0===n?void 0:n.recommendedEnglishModule;return(0,o.useMemo)((function(){var n=e.map((function(e,n){return{module:e,index:n}})),t=n.find((function(e){return e.module.slug===s})),o=n.filter((function(e){return!e.module.meta.isCompleted})),l=t&&o.find((function(e){return e.index>=t.index}))||o[o.length-1];return[t,l]}),[e,s])}(n),2),r=i[0],u=i[1],c=null===u||void 0===u?void 0:u.module.id,m=(0,o.useState)(c),h=m[0],g=m[1],f=(0,o.useMemo)((function(){var e=n.find((function(e){return e.slug.includes("upgrade-test")}));return{upgradeTestModule:e,regularModules:n.filter((function(n){return n.slug!==(null===e||void 0===e?void 0:e.slug)}))}}),[n]),p=f.upgradeTestModule,_=f.regularModules,x=(0,o.useCallback)((function(e){return g(e===h?null:e)}),[h,g]),C=(0,o.useMemo)((function(){return function(e,n){var t,s=e.find((function(e){return e.slug.includes("placement")})),o=null===s||void 0===s?void 0:s.meta.access.isGranted,l=n&&n!==v.OnN.Unspecified;return{hasPlacementTestAccess:o,onReview:!l&&o&&Boolean(null===s||void 0===s||null===(t=s.meta)||void 0===t?void 0:t.isCompleted),hasEnglishLevel:l,placementTest:s}}(n,t)}),[t,n]),T=C.hasPlacementTestAccess,b=C.onReview,j=C.hasEnglishLevel,E=C.placementTest,N=(0,o.useCallback)((function(e){return T&&c===e}),[T,c]),L=(0,o.useCallback)((function(e,n){return l||e.meta.completionPercent&&e.meta.completionPercent>=50||r&&(null===r||void 0===r?void 0:r.index)>=n||u&&(null===u||void 0===u?void 0:u.index)>=n}),[u,l,r]),M=(0,o.useCallback)((function(e){return!(e.slug===(null===E||void 0===E?void 0:E.slug))||!j}),[j,E]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Ue,{recommendedEnglishModuleIndex:(null===u||void 0===u?void 0:u.index)||0,englishLevel:t}),(0,s.jsx)("section",{className:y().courseWrapper,children:(0,s.jsxs)(I.default,{children:[j&&(0,s.jsx)(He,{moduleSlug:null===p||void 0===p?void 0:p.slug}),_.map((function(e,n){return M(e)&&(0,s.jsx)(ye,{module:e,isActive:e.id===h,setActive:function(){return x(e.id)},hasPlacementTestAccess:T,isRecommended:N(e.id),hasRequiredLevel:L(e,n),onReview:b,className:d()({"mb-24":n<_.length-1}),renderRedirectButton:!n},e.id)}))]})})]})},Ve=t(20879),Je=function(){var e,n=(0,Te.B)().language,t=(0,v.s1t)({variables:{lang:n},fetchPolicy:"network-only"}),l=t.loading,i=t.error,r=t.data,u=!(l||i),c=(0,o.useMemo)((function(){var e;return u&&(null===r||void 0===r||null===(e=r.course)||void 0===e?void 0:e.modules)?r.course.modules:[]}),[u,r]),d=(0,a.Z)((0,Se.f)(),1)[0],m=null!==(e=null===d||void 0===d?void 0:d.englishLevel)&&void 0!==e?e:void 0,h=(0,Ve.D)(d);return(0,o.useMemo)((function(){return c&&u}),[c,u])?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Y,{englishLevel:m}),(0,s.jsx)("div",{className:"grid-container pt-24 pb-24",children:(0,s.jsx)(Xe,{modules:c,englishLevel:m,isMateUser:h})})]}):(0,s.jsx)(N.a,{loading:!0,size:45})},Ke=t(94737),Qe=t(66445),en=(0,r.q)((0,i.X)(Ke.u),(0,Qe.i)({restrictForPassedRoles:!0,roles:[m.i4.Recruiter],redirectUrl:T.Z.hirings.profile}),(0,u.h)([l.WY.common,l.WY.profile,l.WY.platformSidebar,l.WY.validates,l.WY.learn,l.WY.seo,l.WY.notifications,l.WY.subscriptions,l.WY.englishCourse]))((function(){return(0,s.jsx)(Je,{})}))},58877:function(e,n,t){"use strict";t.d(n,{V:function(){return l}});var s=t(67294),o=t(20268),l=function(e){var n,t,l=(0,o.nhr)().data,i=null===l||void 0===l||null===(n=l.authUser)||void 0===n?void 0:n.recommendedEnglishTestTopic,r=(0,s.useMemo)((function(){var n=null===e||void 0===e?void 0:e.courseTopics.find((function(e){return e.slug===i}));if(!n)return null;var t=null===e||void 0===e?void 0:e.courseTopics.filter((function(e){return e.slug.includes("quiz")})),s=null===e||void 0===e?void 0:e.courseTopics.filter((function(e){return e.slug.includes("attachment")}));if(!t||!s)return null;var o=t.map((function(e,n){return[e,s[n]]})).find((function(e){return e[0].order>=n.order&&e.some((function(e){return!e.meta.isCompleted}))})),l=null===o||void 0===o?void 0:o.find((function(e){return!e.meta.isCompleted}));return{quizTopic:o?o[0]:null,attachmentTopic:o?o[1]:null,recommendedTopic:l}}),[e,i]),u=(0,s.useMemo)((function(){var n,t,s=!(null===e||void 0===e||null===(n=e.courseUser)||void 0===n?void 0:n.nextTryDate)||(null===e||void 0===e||null===(t=e.courseUser)||void 0===t?void 0:t.nextTryDate)<=new Date;return Boolean(null===e||void 0===e?void 0:e.meta.access.isGranted)&&s}),[null===e||void 0===e||null===(t=e.courseUser)||void 0===t?void 0:t.nextTryDate,null===e||void 0===e?void 0:e.meta.access]);return{hasAccess:u,hasProgress:(0,s.useMemo)((function(){return[null===r||void 0===r?void 0:r.quizTopic,null===r||void 0===r?void 0:r.attachmentTopic].some((function(e){return null===e||void 0===e?void 0:e.meta.tasksCompleted}))}),[null===r||void 0===r?void 0:r.attachmentTopic,null===r||void 0===r?void 0:r.quizTopic]),topicsData:r}}},20879:function(e,n,t){"use strict";t.d(n,{D:function(){return l}});var s=t(88152),o=t(50541),l=function(e){return!!e&&Boolean((0,s.G)(e)||(0,o.v)(e))}},51308:function(e){e.exports={attendedLessons:"AttendedEnglishEventsCounter_attendedLessons__J9lAr",verticalLine:"AttendedEnglishEventsCounter_verticalLine__ADgAP",progressCircle:"AttendedEnglishEventsCounter_progressCircle__6tXdM",placeholder:"AttendedEnglishEventsCounter_placeholder__66kCB"}},76581:function(e){e.exports={link:"EnglishEventsLink_link__Dwwgf",placeholder:"EnglishEventsLink_placeholder__8IjRS"}},86446:function(e){e.exports={container:"EnglishHeader_container__rsBKB",leftSideContainer:"EnglishHeader_leftSideContainer__bNeuZ",placeholder:"EnglishHeader_placeholder__hHlKU"}},35721:function(e){e.exports={levelContainer:"EnglishLevel_levelContainer__ONjNV",levelTooltip:"EnglishLevel_levelTooltip__tuEjT",levelItem:"EnglishLevel_levelItem__SkCai",bigIcon:"EnglishLevel_bigIcon__Wqajp",placeholder:"EnglishLevel_placeholder__GRvPJ"}},54145:function(e){e.exports={dimButton:"EnglishModuleButton_dimButton__UIAXh",placeholder:"EnglishModuleButton_placeholder__XZ5g1"}},99251:function(e){e.exports={moduleToggle:"EnglishModuleItem_moduleToggle__gFa0r",moduleBorder:"EnglishModuleItem_moduleBorder__sySSu",recommendedModule:"EnglishModuleItem_recommendedModule__PD78k",onReviewModule:"EnglishModuleItem_onReviewModule__XSpzs",moduleLabel:"EnglishModuleItem_moduleLabel__GtX6c",moduleLabelOnReview:"EnglishModuleItem_moduleLabelOnReview__xAezX",shortInfo:"EnglishModuleItem_shortInfo__kHd_g",modulePassed:"EnglishModuleItem_modulePassed__eBxE3",placeholder:"EnglishModuleItem_placeholder__itPjW"}},77318:function(e){e.exports={circleContainer:"NewLevelModal_circleContainer__y2AT_",levelUpgradeColor:"NewLevelModal_levelUpgradeColor__qTYeA",buttonContainer:"NewLevelModal_buttonContainer__VAnyS",placeholder:"NewLevelModal_placeholder__qG4_G"}}},function(e){e.O(0,[3662,3090,8797,5737,159,429,3913,8521,6253,4737,8945,9307,9774,2888,179],(function(){return n=74218,e(e.s=n);var n}));var n=e.O();_N_E=n}]);
//# sourceMappingURL=english-8af1bc59fe6f4e8c.js.map