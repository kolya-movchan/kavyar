(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9378],{92595:function(e,n,t){"use strict";t.d(n,{p:function(){return T}});var r,i=t(47568),o=t(51438),a=t(52951),l=t(88029),s=t(82670),u=t(26042),c=t(69396),d=t(828),p=t(60460),f=t(20414),h=t(85893),v=t(67294),m=t(22003),g=t(19614),C=t(9008),x=t.n(C),F=t(87197);function S(e,n){var t=F.P7[n]||F.P7.default;return"".concat(F.ov,"/").concat(t)}var y=function(){var e=(0,i.Z)((function(){return(0,f.__generator)(this,(function(e){switch(e.label){case 0:return r?[3,2]:(self.MonacoEnvironment={getWorkerUrl:S,baseUrl:F.ov},[4,t.e(8731).then(t.t.bind(t,2437,23))]);case 1:r=e.sent(),e.label=2;case 2:return[2,r]}}))}));return function(){return e.apply(this,arguments)}}(),w=t(27764);function I(e){var n=[(0,w.hw)(e),(0,w.Vw)(e)];return{dispose:function(){return n.forEach((function(e){return e()}))}}}var L=t(37383),k=t(96201),b=t.n(k),_=20/14,j=function(e){(0,l.Z)(t,e);var n=(0,p.Z)(t);function t(){var e;return(0,o.Z)(this,t),(e=n.apply(this,arguments)).containerRef=(0,v.createRef)(),e.initMonaco=function(n){if(!e.editor)if(e.containerRef.current){var t=e.props,r=t.onEditorDidMount,i=t.automaticLayout,o=void 0===i||i;e.emmetDisposable=I(n);var a=.875*parseInt(window?window.getComputedStyle(document.documentElement).fontSize:16..toString(10),10),l=a*_;e.editor=n.editor.create(e.containerRef.current,{model:null,automaticLayout:o,fontSize:a,lineHeight:l}),r(n,e.editor)}else L.k.info("\n      Monaco component have been unmounted during monaco library loading.\n      Skip initialization.\n      ")},e}var r=t.prototype;return r.componentDidMount=function(){y().then(this.initMonaco)},r.componentWillUnmount=function(){this.editor&&this.editor.dispose(),this.emmetDisposable&&this.emmetDisposable.dispose()},r.render=function(){var e=this;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(x(),{children:(0,h.jsx)("link",{rel:"stylesheet",href:"/monaco/monaco.css"})}),(0,h.jsx)("div",{"data-qa":"monaco-editor",className:b().editorContainer,ref:function(n){e.containerRef.current=n,e.props.containerRef.current=n}})]})},t}(v.PureComponent),V=t(49294),M=t(81),R=t(37497),Z=t(89746),E=t(15614),H=t(84813),P=t(58058),A=t(64277),T=function(e){(0,l.Z)(r,e);var n=(0,p.Z)(r);function r(){var e;return(0,o.Z)(this,r),(e=n.apply(this,arguments)).HTMLElementRef=(0,v.createRef)(),e.modelsCache={},e.configureEditor=function(n,t){e.monaco=n,e.editor=t;var r=e.props,i=r.theme,o=void 0===i?"vs":i,a=r.editorOptions,l=r.activeFilePath,s=r.readOnly,u=r.onChange,c=r.files,d=r.id,p=r.isAutocompleteEnabled,f=void 0===p||p;e.setLanguagesDefaults(),e.setTheme(o),e.setEditorOptions(a,l,!!s,c),e.setupWorkers(),e.props.addLibsFromPackageJSON&&(e.setCompilerOptions(d),e.fetchExtraLibs(c)),e.createModels(c,d),e.listenChanges(u),e.setupActions(),e.setModel(e.getModelCache(d,l)),e.props.languageServerEnabled&&e.configureLanguageServices(d,l,f)},e.setCompilerOptions=function(n){var t={jsxFactory:"React.createElement",reactNamespace:"React",jsx:e.monaco.languages.typescript.JsxEmit.React,target:e.monaco.languages.typescript.ScriptTarget.ES2016,allowNonTsExtensions:!0,moduleResolution:e.monaco.languages.typescript.ModuleResolutionKind.NodeJs,module:e.monaco.languages.typescript.ModuleKind.CommonJS,experimentalDecorators:!0,noEmit:!0,allowJs:!0,esModuleInterop:!0,baseUrl:"file:///".concat(r.LSP_PREFIX,"/").concat(n,"/")},i=e.monaco.languages.typescript,o=i.typescriptDefaults,a=i.javascriptDefaults;o.setCompilerOptions(t),a.setCompilerOptions(t)},e.fetchExtraLibs=function(n){e.monaco.languages.typescript.typescriptDefaults.setExtraLibs([]);var t=n["/package.json"];if(t){var r,i=t.content,o=JSON.parse(i),a=o.dependencies,l=o.devDependencies,s=(0,u.Z)({},a||{},l||{});null===(r=e.fetchDepsWorker)||void 0===r||r.postMessage(s)}},e.createModel=function(n){return function(t){var i=t.path,o=t.content,a=(0,V.m)(i),l=R.CW[a],s=R.yT[a],u=r.makeModelPath(n,i),c=e.monaco.editor.createModel(o,l,new e.monaco.Uri({path:u,scheme:"file"}));e.addLib(o,i,n),c.updateOptions({tabSize:s}),e.modelsCache[u]=e.modelsCache[u]||{model:null,lib:null,viewState:null},e.modelsCache[u].model=c,e.lint(i,c,c.getValue())}},e.lint=(0,Z.D)((function(n,t,r){var i=e.props,o=i.isLinterEnabled,a=i.files,l=(0,V.m)(n),s=R.CW[l],u=a[n].isReadonly;if(o&&!u&&!t.isDisposed())switch(s){case M.X.JavaScript:e.javaScriptLinter(n,t,r);break;case M.X.Java:e.javaLinter(n);break;case M.X.TypeScript:e.tsLinter(n);break;case M.X.Python:e.pythonLinter(n)}})),e.listenESLinterResults=function(n){var t=n.data,r=t.errors,i=t.version,o=t.path,a=e.props,l=a.onLinterResult,s=a.id,u=e.getModelCache(s,o);u&&!u.model.isDisposed()&&u.model.getVersionId()===i&&(l&&l(o,r.map(P.bf)))},e.handleSaveAction=function(){var n=e.props,t=n.onSave,r=n.files;t&&t(Object.values(r))},e.haveFilesChanged=function(e,n){var t=Object.keys(e),r=Object.keys(n);return t.length!==r.length||!t.every((function(t){return n[t]&&n[t].content===e[t].content}))},e.updateModelsCache=function(n,t,i){var o=e.createModel(n),a=Object.keys(t),l=Object.keys(i).filter((function(e){return!t[e]||i[e].id!==t[e].id})),s=a.filter((function(e){return!i[e]||i[e].id!==t[e].id}));if(s.length)for(var u=0;u<s.length;u+=1){var c=r.makeModelPath(n,s[u]);e.modelsCache[c].model.dispose(),delete e.modelsCache[c]}if(l.length)for(var d=0;d<l.length;d+=1){var p=l[d];if(o(i[p]),p===e.props.activeFilePath){var f=r.makeModelPath(n,l[d]);e.editor.setModel(e.modelsCache[f].model)}}},e}var C=r.prototype;return C.updateEditorValue=function(e,n,t){var r=this.editor,i=this.getModelCache(t,n);if(i){var o=i.model;r.pushUndoStop(),o.pushEditOperations([],[{range:o.getFullModelRange(),text:e}]),r.pushUndoStop(),r.focus()}},C.resize=function(){var e=this;setTimeout((function(){e.editor&&e.editor.layout()}))},C.resizeToSize=function(e){var n=this;setTimeout((function(){n.editor&&n.editor.layout(e)}))},C.shouldComponentUpdate=function(e){var n,t;if(!this.editor)return!1;var r,i=this.props,o=i.id,a=i.activeFilePath,l=i.editorOptions,s=i.theme,u=i.readOnly,c=i.onChange,d=i.files,p=null===(n=e.files[e.activeFilePath])||void 0===n?void 0:n.isReadonly,f=null===(t=d[a])||void 0===t?void 0:t.isReadonly;if(this.haveFilesChanged(d,e.files)&&this.updateModelsCache(o,d,e.files),e.id!==o||!d&&e.files)this.saveCurrentViewState(),this.disposeModels(),e.addLibsFromPackageJSON&&(this.setCompilerOptions(e.id),this.fetchExtraLibs(e.files)),this.createModels(e.files,e.id),this.setModel(this.getModelCache(e.id,e.activeFilePath)),this.configureLanguageServices(e.id,e.activeFilePath,null===(r=e.isAutocompleteEnabled)||void 0===r||r);else if(e.activeFilePath!==a){var h;this.changeFile(e.id,e.activeFilePath),this.configureLanguageServices(e.id,e.activeFilePath,null===(h=e.isAutocompleteEnabled)||void 0===h||h)}return e.editorOptions===l&&e.readOnly===u&&p===f||this.setEditorOptions(e.editorOptions,e.activeFilePath,!!e.readOnly,e.files),e.theme&&e.theme!==s&&this.setTheme(e.theme),e.onChange&&e.onChange!==c&&this.listenChanges(e.onChange),this.props.linterErrors!==e.linterErrors&&this.setLinterErrorsMarkers(e),!1},C.componentWillUnmount=function(){this.disposeModels(),this.onChangeDisposable&&this.onChangeDisposable.dispose(),this.linterWorker&&this.linterWorker.terminate(),this.fetchDepsWorker&&this.fetchDepsWorker.terminate()},C.installLanguageServices=function(){var e=this;return(0,i.Z)((function(){var n,i,o,a;return(0,f.__generator)(this,(function(l){switch(l.label){case 0:return[4,t.e(3722).then(t.t.bind(t,73722,23))];case 1:return n=l.sent(),i=n.MonacoServices,o=n.Services,a=i.create(e.monaco,{rootUri:"/".concat(r.LSP_PREFIX)}),r.languageServices=o.install(a),[2]}}))}))()},C.connectToLanguageServer=function(e){var n,t="".concat(r.languageServerEndpoint.ws,"/").concat(e);r.lspWebSockets.has(e)?n=r.lspWebSockets.get(e):(n=r.createWebSocket(t),r.lspWebSockets.set(e,n)),n.reconnect();var o=this;(0,g.listen)({webSocket:n,onConnection:function(){var n=(0,i.Z)((function(n){var t,r;return(0,f.__generator)(this,(function(i){switch(i.label){case 0:return[4,o.createLanguageClient(n,e)];case 1:return t=i.sent(),r=t.start(),n.onError((function(){r.dispose()})),n.onClose((function(){r.dispose()})),[2]}}))}));return function(e){return n.apply(this,arguments)}}()})},C.configureLanguageServices=function(e,n,t){var o=this;return(0,i.Z)((function(){var i,a,l;return(0,f.__generator)(this,(function(s){switch(s.label){case 0:return i=(0,V.m)(n),a=R.CW[i],r.LANGUAGES_WITH_SLP.includes(a)?t?(l=r.makeModelPath(e,n),[4,r.ensureFileExists(l)]):(r.stopLanguageClient(a),[2]):[2];case 1:return s.sent(),r.languageServices?[3,3]:[4,o.installLanguageServices()];case 2:s.sent(),s.label=3;case 3:return o.connectToLanguageServer(a),[2]}}))}))()},C.createLanguageClient=function(e,n){return(0,i.Z)((function(){var r,i,o,a,l;return(0,f.__generator)(this,(function(s){switch(s.label){case 0:return[4,t.e(3722).then(t.t.bind(t,73722,23))];case 1:return r=s.sent(),i=r.createConnection,o=r.MonacoLanguageClient,a=r.ErrorAction,l=r.CloseAction,[2,new o({name:'Mate Language Client for "'.concat(n,'"'),clientOptions:{documentSelector:[n],errorHandler:{error:function(){return a.Continue},closed:function(){return l.DoNotRestart}}},connectionProvider:{get:function(n,t){return Promise.resolve(i(e,n,t))}}})]}}))}))()},C.setLanguagesDefaults=function(){var e=this.monaco;e.languages.typescript.typescriptDefaults.setMaximumWorkerIdleTime(-1),e.languages.typescript.javascriptDefaults.setMaximumWorkerIdleTime(-1),e.languages.typescript.typescriptDefaults.setEagerModelSync(!0),e.languages.typescript.javascriptDefaults.setEagerModelSync(!0)},C.setTheme=function(e){this.monaco.editor.setTheme(e||"vs")},C.setEditorOptions=function(e,n,t){var i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this.editor.updateOptions((0,c.Z)((0,u.Z)({},r.DEFAULT_EDITOR_OPTIONS,e||{}),{readOnly:t||(null===(i=o[n])||void 0===i?void 0:i.isReadonly)}))},C.createModels=function(e,n){e&&Object.values(e).forEach(this.createModel(n))},C.addDeps=function(e){var n=this;return(0,i.Z)((function(){return(0,f.__generator)(this,(function(t){return Object.entries(e).forEach((function(e){var t=(0,d.Z)(e,2),r=t[0],i=t[1];n.addLib(i,r)})),[2]}))}))()},C.addLib=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.props.id,i="file:///".concat(r.LSP_PREFIX,"/").concat(t).concat(n),o=this.monaco.languages.typescript.typescriptDefaults.getExtraLibs(),a=o[i];return a||this.monaco.languages.typescript.typescriptDefaults.addExtraLib(e,i)},C.listenChanges=function(e){var n=this;this.onChangeDisposable&&this.onChangeDisposable.dispose();var t=(0,Z.D)((function(e,n,t){(0,P.Gy)(e,n,t);var r=new Date;localStorage.setItem("test_task_attempt_file:".concat(e),"".concat(r.getTime()))}));this.onChangeDisposable=this.editor.onDidChangeModelContent((function(){var r=n.props,i=r.activeFilePath,o=r.id,a=r.files,l=n.getModelCache(o,i);if(l){var s=l.model,u=s.getValue(),c=a[i].id;e&&e(u,i),t(c,i,u),n.lint(i,s,u)}}))},C.javaScriptLinter=function(e,n,t){this.monaco.editor.setModelMarkers(n,"eslint",[]),this.linterWorker&&this.linterWorker.postMessage({content:t,version:n.getVersionId(),path:e})},C.javaLinter=function(e){this.props.onLinterResult&&this.props.onLinterResult(e)},C.tsLinter=function(e){this.props.onLinterResult&&this.props.onLinterResult(e)},C.pythonLinter=function(e){this.props.onLinterResult&&this.props.onLinterResult(e)},C.setupWorkers=function(){var e=this;this.linterWorker=new window.Worker("/static/workers/eslint.worker.js"),this.linterWorker.addEventListener("message",this.listenESLinterResults),this.props.addLibsFromPackageJSON&&(this.fetchDepsWorker=new window.Worker("/static/workers/fetchDeps.worker.js"),this.fetchDepsWorker.onmessage=function(n){e.addDeps(n.data)})},C.setLinterErrorsMarkers=function(e){var n=e.activeFilePath,t=e.id,r=e.linterErrors;if(r){var i=this.getModelCache(t,n);if(i){var o=i.model,a=r.map(P.uO);this.monaco.editor.setModelMarkers(o,"eslint",a)}}},C.setupActions=function(){this.props.onSave&&this.editor.addAction({id:"save",contextMenuGroupId:"navigation",contextMenuOrder:0,keybindingContext:null,keybindings:[this.monaco.KeyMod.CtrlCmd|this.monaco.KeyCode.KEY_S],run:this.handleSaveAction,label:"!Save"})},C.setModel=function(e){e&&(this.editor.setModel(e.model),e.viewState&&this.editor.restoreViewState(e.viewState),this.editor.focus())},C.saveCurrentViewState=function(){var e=this.props,n=e.activeFilePath,t=e.id,r=this.getModelCache(t,n);r&&(r.viewState=this.editor.saveViewState())},C.changeFile=function(e,n){this.saveCurrentViewState();var t=this.getModelCache(e,n);this.setModel(t)},C.disposeModels=function(){var e=function(e){if(e)try{e.dispose()}catch(t){var n;n=(0,s.Z)(t,Error)?t:"string"===typeof t?new Error(t):new Error("Unknown error"),A.P.captureException(n,{logMessage:"[Code Editor Dispose Error]: Failed to dispose: ".concat(e)})}};Object.values(this.modelsCache).forEach((function(n){var t=n.lib,r=n.model;e(t),e(r)}))},C.getModelCache=function(e,n){return this.modelsCache[r.makeModelPath(e,n)]||null},C.render=function(){return(0,h.jsx)(j,{containerRef:this.HTMLElementRef,onEditorDidMount:this.configureEditor,automaticLayout:this.props.automaticLayout})},r.ensureFileExists=function(e){return(0,i.Z)((function(){var n;return(0,f.__generator)(this,(function(t){switch(t.label){case 0:return n=r.languageServerEndpoint.http,[4,fetch("".concat(n,"/file"),{method:"POST",body:JSON.stringify({path:e}),headers:{"Content-Type":"application/json"}}).catch((function(){}))];case 1:return t.sent(),[2]}}))}))()},r.stopLanguageClient=function(e){var n;null===(n=r.lspWebSockets.get(e))||void 0===n||n.close()},r.createWebSocket=function(e){var n={maxReconnectionDelay:1e4,minReconnectionDelay:1e3,reconnectionDelayGrowFactor:1.3,connectionTimeout:1e4,maxRetries:1/0,debug:!1,startClosed:!0};return new m.Z(e,[],n)},r.removeFirstSlash=function(e){return"/"===e[0]?e.slice(1):e},r.makeModelPath=function(e,n){return"/".concat(r.LSP_PREFIX,"/").concat(e,"/").concat(this.removeFirstSlash(n))},(0,a.Z)(r,null,[{key:"languageServerEndpoint",get:function(){return{ws:(0,E.W)("lang-server"),http:(0,H.getApiLink)("lang-server")}}}]),r}(v.Component);T.DEFAULT_EDITOR_OPTIONS={minimap:{enabled:!1},selectOnLineNumbers:!0,wordWrap:"on",quickSuggestions:!0,autoIndent:"full",wordBasedSuggestions:!1,scrollbar:{verticalScrollbarSize:7}},T.LANGUAGES_WITH_SLP=["java","python"],T.LSP_PREFIX="testTasks",T.lspWebSockets=new Map},58058:function(e,n,t){"use strict";var r;t.d(n,{G9:function(){return d},Gy:function(){return u},bf:function(){return l},nx:function(){return c},oj:function(){return s},uO:function(){return a}}),function(e){e.ESLint="eslint",e.JavaCheckStylePlugin="java_checkstyle_plugin"}(r||(r={}));var i={1:4,2:8},o=function(e){switch(e.source){case r.ESLint:return i[e.severity||2];case r.JavaCheckStylePlugin:default:return 8}},a=function(e){return{startLineNumber:e.line,endLineNumber:e.endLine,startColumn:e.column,endColumn:e.endColumn,message:e.message,severity:o(e),source:e.source,code:e.name}},l=function(e){return{name:e.ruleId,message:e.message,line:e.line,column:e.column,endColumn:e.endColumn,endLine:e.endLine,source:r.ESLint,severity:e.severity}},s=function(e,n){return localStorage.getItem("".concat(e).concat(n))},u=function(e,n,t){localStorage.setItem("".concat(e).concat(n),t)},c=function(e,n){return localStorage.removeItem("".concat(e).concat(n))},d=function(e){return Number(localStorage.getItem("test_task_attempt_file:".concat(e)))}},90102:function(e,n,t){"use strict";t.d(n,{FO:function(){return a},Hf:function(){return s},TG:function(){return l},gQ:function(){return u},oC:function(){return i},r7:function(){return o},us:function(){return r},y$:function(){return c}});var r="Create a new file",i="Create a new folder",o="Upload files",a="Are you sure you want to delete this file?",l="File deleted successfully",s="An error occured while deleting the file",u="name",c=1e7},19607:function(e,n,t){"use strict";t.d(n,{O:function(){return r},b:function(){return i}});var r=function(e,n){return"".concat(e).concat(n)},i=function(e){return"/".concat(e.split("/").filter((function(e){return e})).join("/"),"/")}},86241:function(e,n,t){"use strict";t.d(n,{YW:function(){return A.Y},pW:function(){return L},lf:function(){return P},DO:function(){return Z},T3:function(){return N},e4:function(){return a}});var r=t(29815),i=t(85893),o=t(67294),a=function(){var e=(0,o.useState)(null),n=e[0],t=e[1],i=(0,o.useState)("/"),a=i[0],l=i[1],s=(0,o.useCallback)((function(){t(A.Y.File)}),[t]),u=(0,o.useCallback)((function(){t(A.Y.Folder)}),[t]),c=(0,o.useCallback)((function(){t(null)}),[t]),d=(0,o.useState)([]),p=d[0],f=d[1];return{activeFolder:a,setActiveFolder:l,addItemInputVisibility:n,showAddFileInput:s,showAddFolderInput:u,hideAddItemInput:c,emptyFolders:p,createFolder:(0,o.useCallback)((function(e){f((function(n){return n.includes(e)?n:(0,r.Z)(n).concat([e])}))}),[f])}},l=t(17796),s=t(68579),u=t.n(s),c=t(99629),d=t(90102),p=t(83575),f=t(97654),h=t(26042),v=t(69396),m=t(94923),g=function(e){return(0,i.jsxs)(m.s,(0,v.Z)((0,h.Z)({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{children:[(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 2H9L11 4H19C20.1 4 21 4.9 21 6V12H16V15H13V18H3C1.9 18 1 17.1 1 16L1.01 4C1.01 2.9 1.9 2 3 2Z",fill:"currentColor"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 14H18V17H15V19H18V22H20V19H23V17H20V14Z",fill:"currentColor"})]}))},C=t(68720),x=t(82115),F=t(73210),S=t(38157),y=t(12525),w=t.n(y),I=(0,o.memo)((function(e){var n=e.onShowAddFileInput,t=e.onShowAddFolderInput,r=e.onDownloadFiles,o=e.onUploadFiles,a=e.onManagerClose;return(0,i.jsxs)("div",{className:w().controlsBlock,children:[(0,i.jsxs)("div",{className:w().btnSection,children:[n&&(0,i.jsx)(c.eE,{text:d.us,className:w().tooltip,widthMode:c.X3.Max,children:(0,i.jsx)(p.zx,{mode:p.qo.TransparentLight,size:p.qE.Small,styling:p.zx.styling.Gray,LeftIcon:f.G,onClick:n})}),!!t&&(0,i.jsx)(c.eE,{text:d.oC,className:w().tooltip,widthMode:c.X3.Max,children:(0,i.jsx)(p.zx,{mode:p.qo.TransparentLight,size:p.qE.Small,styling:p.zx.styling.Gray,LeftIcon:g,onClick:t})}),!!o&&(0,i.jsx)(c.eE,{text:d.r7,className:w().tooltip,widthMode:c.X3.Max,children:(0,i.jsx)(C.j,{styling:p.zx.styling.Gray,Icon:x.R,mode:p.qo.TransparentLight,size:p.qE.Small,accept:"*/*",multiple:!0,onChange:o})}),!!r&&(0,i.jsx)(p.zx,{mode:p.qo.TransparentLight,size:p.qE.Small,styling:p.zx.styling.Gray,LeftIcon:F.U,onClick:r})]}),(0,i.jsx)(p.zx,{mode:p.qo.TransparentLight,size:p.qE.Small,styling:p.zx.styling.Gray,LeftIcon:S.D,onClickNoArgs:a})]})}));function L(e){var n=e.files,t=e.onManagerClose,s=e.onOpenFile,c=e.onAddFiles,p=e.onRenameFiles,f=e.onDeleteFiles,h=e.onSaveFile,v=e.onUpload,m=e.onConfirmDelete,g=e.onDownloadFiles,C=e.fileManagerState,x=e.maxFileSizeInBytes,F=void 0===x?d.y$:x,S=e.uploadSizeError,y=a(),w=C||y,L=w.activeFolder,k=w.setActiveFolder,b=w.addItemInputVisibility,_=w.showAddFileInput,j=w.showAddFolderInput,V=w.hideAddItemInput,M=w.emptyFolders,R=N(C||y,{onAddFiles:c,onRenameFiles:p,onDeleteFiles:f,onUpload:v,onOpenFile:s,onConfirmDelete:m,maxFileSizeInBytes:F,uploadSizeError:S}),Z=R.handleClick,E=R.handleAddItems,H=R.handleRename,P=R.handleDelete,A=R.handleUploadFiles,T=(0,o.useMemo)((function(){if(!M)return n;var e=M.map((function(e,n){return{id:-(n+1),path:e}}));return(0,r.Z)(e).concat((0,r.Z)(n))}),[n,M]);return(0,i.jsxs)("div",{className:u().fileManagerWrapper,children:[(0,i.jsx)(I,{onManagerClose:t,onDownloadFiles:g,onUploadFiles:A,onShowAddFileInput:_,onShowAddFolderInput:j}),(0,i.jsx)("div",{className:u().tree,children:(0,i.jsx)(l.mp,{data:T,onClick:Z,onAddItem:E,onRenameItem:p&&H,onDeleteItem:f&&P,activeFolder:L,setActiveFolder:k,addItemInputVisibility:b,hideAddFileInput:V,onSaveFile:h})})]})}var k=t(55541),b=t(42043),_=t(64148),j=t(93134),V=t(94501),M=t(37403),R=function(e){var n=e.rootFolder,t=e.onClick,r=e.onAddItem,a=e.onDeleteItem,l=e.onRenameItem,s=e.hideAddFileInput,u=e.addItemInputVisibility,c=e.onSaveFile,d=e.renameInputValue,p=e.addInputValue,f=e.onSetIsFolderOpened,h=e.onSetFileRenaming,v=e.updateRenameInputValue,m=e.updateAddInputValue,g=(0,o.useMemo)((function(){var e=!1;return(0,M.Dr)(n,(function(n){(0,j.zE)(n)&&n.isLoading&&(e=!0)})),e}),[n]),C=(0,o.useCallback)((function(e){(0,j.zE)(e)&&t?t([{node:e}]):f(e.path,!e.isOpen)}),[t,f]);return(0,i.jsx)(k.W,{backend:b.PD,children:(0,i.jsx)(V.Gx,{onSetFileRenaming:h,onClick:C,onAddItem:r,onRenameItem:l,onDelete:a,addItemInputVisibility:u,hideAddFileInput:s,onSaveFile:c,isAnyFileLoading:g,onSetIsFolderOpened:f,updateRenameInputValue:v,updateAddInputValue:m,renameInputValue:d,addInputValue:p,children:(0,i.jsx)(_.p,{node:n})})})};function Z(e){var n=e.rootNode,t=e.onManagerClose,r=e.onOpenFile,o=e.onAddFiles,a=e.onRenameFiles,l=e.onDeleteFiles,s=e.onSaveFile,c=e.onUpload,p=e.onConfirmDelete,f=e.onDownloadFiles,h=e.fileManagerState,v=e.maxFileSizeInBytes,m=void 0===v?d.y$:v,g=e.uploadSizeError,C=e.renameInputValue,x=e.addInputValue,F=e.onSetIsFolderOpened,S=e.onSetFileRenaming,y=e.updateRenameInputValue,w=e.updateAddInputValue,L=h.addItemInputVisibility,k=h.showAddFileInput,b=h.showAddFolderInput,_=h.hideAddItemInput,j=N(h,{onAddFiles:o,onRenameFiles:a,onDeleteFiles:l,onUpload:c,onOpenFile:r,onConfirmDelete:p,maxFileSizeInBytes:m,uploadSizeError:g}),V=j.handleClick,M=j.handleAddItems,Z=j.handleRename,E=j.handleDelete,H=j.handleUploadFiles;return(0,i.jsxs)("div",{className:u().fileManagerWrapper,children:[(0,i.jsx)(I,{onManagerClose:t,onDownloadFiles:f,onUploadFiles:H,onShowAddFileInput:k,onShowAddFolderInput:b}),(0,i.jsx)("div",{className:u().tree,children:(0,i.jsx)(R,{addInputValue:x,updateAddInputValue:w,renameInputValue:C,updateRenameInputValue:y,onSetIsFolderOpened:F,onSetFileRenaming:S,rootFolder:n,onClick:V,onAddItem:M,onRenameItem:a&&Z,onDeleteItem:l&&E,addItemInputVisibility:L,hideAddFileInput:_,onSaveFile:s})})]})}var E=t(46312),H=t(17862),P=function(e){var n=e.children,t=e.width,r=e.setWidth,o=e.resizableInstance,a=e.minWidth,l=e.maxWidth,s=e.snapSize;return(0,i.jsx)(E.e,{ref:o,size:{width:t,height:"100%"},minWidth:a,maxWidth:l,enable:{right:!0},handleComponent:{right:(0,i.jsx)(H.E,{hasUniquePosition:!0})},handleStyles:{right:{right:0}},snap:s?{x:[s]}:void 0,snapGap:130,onResize:function(e,n,t){r("".concat(t.clientWidth,"px"))},children:n})},A=t(70418),T=t(47568),D=t(20414),z=t(34145),O=t(19607),W=t(98698),N=function(e,n){var t=e.addItemInputVisibility,i=e.setActiveFolder,a=e.activeFolder,l=e.createFolder,s=n.onOpenFile,u=n.onAddFiles,c=n.onDeleteFiles,p=n.onRenameFiles,f=n.onUpload,v=n.uploadSizeError,m=n.maxFileSizeInBytes,g=n.onConfirmDelete,C=(0,z.ZW)(),x=(0,o.useCallback)((function(e){var n=e.map((function(e){return e.node.path}));n.length&&s(n[0])}),[s]),F=(0,o.useCallback)((function(e){if(u){if(t===A.Y.Folder&&l)return e.forEach((function(e){var n=(0,O.b)(e.updateValues.path);l(n)})),void(i&&i((0,O.b)(e[0].updateValues.path)));var n=e.reduce((function(e,n){var t=n.node,i=n.updateValues;return i?(0,r.Z)(e).concat([(0,h.Z)({},t,i)]):e}),[]);u(n)}}),[u,t,l,i]),S=(0,o.useCallback)((function(e){if(p){var n=e.reduce((function(e,n){var t=n.node,i=n.updateValues;return i?(0,r.Z)(e).concat([{file:t,newPath:i.path}]):e}),[]);p(n)}}),[p]),y=(0,o.useCallback)(function(){var e=(0,T.Z)((function(e){var n,t;return(0,D.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,4,,5]),e.length&&c?(n=g)?[4,g()]:[3,2]:[2,null];case 1:n=!r.sent(),r.label=2;case 2:return n?[2,null]:(t=e.map((function(e){return e.node.id})),[4,c(t[0],e[0].node.path)]);case 3:return r.sent(),[2,C.showMessage({type:W.oK.success,text:d.TG})];case 4:return r.sent(),[2,C.showMessage({type:W.oK.error,text:d.Hf})];case 5:return[2]}}))}));return function(n){return e.apply(this,arguments)}}(),[g,C,c]);return{handleClick:x,handleAddItems:F,handleRename:S,handleDelete:y,handleUploadFiles:(0,o.useCallback)((function(e){if(f){var n=e.target,t=n.validity,i=n.files;if(i){var o;if((null===(o=i[0])||void 0===o?void 0:o.size)>m&&v)return void C.showMessage(v);if(i.length&&t){var l=(0,r.Z)(i).map((function(e){return{path:(0,O.O)(a,e.name),file:e,size:e.size}}));f(l)}}}}),[v,m,f,a,C])}}},70418:function(e,n,t){"use strict";var r;t.d(n,{Y:function(){return r}}),function(e){e.File="file",e.Folder="folder"}(r||(r={}))},17862:function(e,n,t){"use strict";t.d(n,{E:function(){return u}});var r=t(14924),i=t(85893),o=(t(67294),t(94184)),a=t.n(o),l=t(2078),s=t.n(l),u=function(e){var n=e.hasUniquePosition;return(0,i.jsx)("div",{className:a()(s().resizeColHandler,(0,r.Z)({},s().mlAuto,!!n))})}},54432:function(e,n,t){"use strict";t.d(n,{fU:function(){return a},iC:function(){return i},p_:function(){return o}});var r=t(90102),i={js:"#f8d802",css:"#32a3d7",scss:"#32a3d7",sass:"#32a3d7",html:"#de4B27",python:"#4f64b7",java:"#d5370e",ts:"#294e80",md:"#24b0fc"},o={default:"20%",max:"100%"},a={body:r.FO}},94501:function(e,n,t){"use strict";t.d(n,{Gx:function(){return s},Wr:function(){return u}});var r=t(99534),i=t(85893),o=t(67294),a=function(){};var l=(0,o.createContext)({onSetIsFolderOpened:a,onSetFileRenaming:a,onClick:a,isAnyFileLoading:!1,updateRenameInputValue:a,updateAddInputValue:a,renameInputValue:"",addInputValue:""}),s=function(e){var n=e.children,t=(0,r.Z)(e,["children"]);return(0,i.jsx)(l.Provider,{value:t,children:n})},u=function(){return(0,o.useContext)(l)}},64148:function(e,n,t){"use strict";t.d(n,{p:function(){return ie}});var r=t(14924),i=t(85893),o=t(67294),a=t(94184),l=t.n(a),s=t(47568),u=t(26042),c=t(69396),d=t(20414),p=t(43703),f=t(55738),h=function(e){var n=(0,o.useRef)(null),t=(0,o.useCallback)((function(t){var r=t.target;e&&n.current&&!n.current.contains(r)&&e()}),[e]);return(0,p.K)(f.m.Escape,e),(0,o.useEffect)((function(){return e?(document.addEventListener("click",t,!0),document.addEventListener("touchstart",t,!0),function(){e&&(document.removeEventListener("click",t,!0),document.removeEventListener("touchstart",t,!0))}):function(){}}),[t,e]),n},v=t(19607),m=t(49294),g=t(54432),C=t(66303),x=t.n(C),F=function(e){var n,t=e.isFolder,a=e.path,s=e.isActive,c=e.children,d=e.depthLevel,p=e.wrapperRef,f=function(e,n){return(0,o.useMemo)((function(){return e?{paddingLeft:"".concat(20*(n-1)+8,"px")}:{}}),[e,n])}(a,d),h=(0,o.useMemo)((function(){return(0,m.m)(a)}),[a]),v={"--background-color":"".concat(g.iC[h]||"")};return(0,i.jsx)("div",{className:l()((n={},(0,r.Z)(n,x().folder,t),(0,r.Z)(n,x().activeFile,!t&&s),n),x().itemWrapper),style:(0,u.Z)({},f,v),ref:p,children:c})},S=t(90102),y=t(34038),w=t(30155),I=t(83684),L=t(54358),k=function(e){var n=e.label,t=e.name,r=e.icon,a=e.value,s=e.onChange,u=e.error,c=(0,y.$G)([w.WY.validates,w.WY.error]).t,d=Boolean(u),p=(0,o.useCallback)((function(e){s(e.target.value)}),[s]);return(0,i.jsxs)("div",{"data-qa":"form-field-".concat(t),children:[n&&(0,i.jsxs)("label",{htmlFor:t,children:[n.text,!!r&&r]}),(0,i.jsx)("div",{"data-qa":"input-field-".concat(t),children:(0,i.jsx)(L.a,{className:x().itemInput,required:!0,autoFocus:!0,maxLength:245,id:t,name:t,value:a,onChange:p})}),(0,i.jsx)("div",{className:l()(x().error,"input-error"),"data-qa":"input-error-".concat(t),children:d&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(I.a,{}),(0,i.jsx)("span",{children:c("".concat(w.WY.validates,":").concat(u))})]})})]})},b=t(29815),_=t(64605),j=t(57306),V=t(13654),M=t(93134),R=[{validator:V.UE,translateCode:"file_name_input_required"},{validator:V.Of,translateCode:"file_name_input_no_spaces"},{validator:V.wU,translateCode:"task_file_name_invalid_symbols"},{validator:(0,V.BS)(255),translateCode:"task_file_folder_name_max_length"}],Z=(0,b.Z)(R).concat([{validator:V.y_,translateCode:"file_should_have_extension"}]),E=function(e){var n=e.onSubmit,t=e.ItemIcon,r=e.itemType,a=e.value,l=e.onChange,s=function(e){var n=(0,y.$G)(w.WY.lmsEditor).t,t=e===M.YP.File?Z:R;return _.A.apply(void 0,(0,b.Z)(t.map((function(e){var t=e.validator,r=e.translateCode;return(0,j.I)(t,n("".concat(w.WY.lmsEditor,":").concat(r)))}))))}(r),u=(0,o.useState)(null),c=u[0],d=u[1],p=(0,o.useCallback)((function(){var e=s(a,{name:a});e?d(e):(d(null),n())}),[n,s,a]);return(0,i.jsxs)("form",{className:x().inputItemWrapper,onSubmit:p,children:[t&&(0,i.jsx)(t,{className:x().folderIcon}),(0,i.jsx)(k,{name:S.gQ,value:a,onChange:l,error:c})]})},H=function(e){var n=e.onSubmit,t=e.itemType,r=e.value,a=e.onChange,l=(0,o.useCallback)((function(){n(r)}),[n,r]);return(0,i.jsx)(E,{itemType:t,onSubmit:l,value:r,onChange:a})},P=t(94501),A=t(86241),T=function(e){var n=e.parentFolderNode,t=(0,P.Wr)(),r=t.addItemInputVisibility,a=t.hideAddFileInput,l=t.onAddItem,p=t.addInputValue,f=t.updateAddInputValue,m=n.path,g=n.depthLevel,C=(0,o.useCallback)((function(){r&&a&&a()}),[r,a]),x=h(C),S=(0,o.useCallback)(function(){var e=(0,s.Z)((function(e){var t;return(0,d.__generator)(this,(function(r){switch(r.label){case 0:return l?(t=(0,v.O)(n.url,e),[4,l([{node:n,updateValues:(0,c.Z)((0,u.Z)({},n),{path:t})}])]):[2];case 1:return r.sent(),a&&a(),[2]}}))}));return function(n){return e.apply(this,arguments)}}(),[n,l,a]),y=r===A.YW.Folder,w=y?M.YP.Folder:M.YP.File;return(0,i.jsx)(F,{isFolder:y,path:m,depthLevel:g+1,wrapperRef:x,isActive:!1,children:(0,i.jsx)(H,{onSubmit:S,itemType:w,value:p,onChange:f})})},D=t(41511),z=t(47636),O=t(34744),W=t(83575),N=function(e){var n=e.node,t=(0,P.Wr)().onClick,r=n.value,a=n.path,l=n.depthLevel,s=n.isActive,u=n.isLoading,c=void 0!==u&&u,d=n.isOpen?D.B:z.E,p=(0,o.useCallback)((function(){t(n)}),[n,t]);return r?(0,i.jsxs)(F,{isFolder:!0,path:a,isActive:s||!1,depthLevel:l,children:[c&&(0,i.jsx)(O.a,{loading:!0}),(0,i.jsx)("div",{children:(0,i.jsx)(W.zx,{className:x().itemButton,mode:W.qo.TransparentLight,size:W.qE.Small,text:r,LeftIcon:d,onClick:p})})]}):null},q=t(94923),Y=function(e){return(0,i.jsx)(q.s,(0,c.Z)((0,u.Z)({width:"20",height:"14",viewBox:"0 0 20 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{children:(0,i.jsx)("path",{d:"M 2.66634 9.33334 H 9.33301 V 7.66667 L 11.6663 10 L 9.33301 12.3333 V 10.6667 H 2.66634 V 12.3333 L 0.333008 10 L 2.66634 7.66667 V 9.33334 Z M 6.66634 2.00001 V 8 H 5.33301 V 2.00001 H 1.33301 V 0.666672 H 10.6663 V 2.00001 H 6.66634 Z",fill:"rgb(34, 176, 252)"})}))},B=function(e){return(0,i.jsxs)(q.s,(0,c.Z)((0,u.Z)({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{children:[(0,i.jsx)("path",{d:"M9.35482 14.4752L6.45793 11.4997L9.35482 8.52413L8.12586 7.26181L4 11.4997L8.12586 15.7375L9.35482 14.4752Z",fill:"currentColor"}),(0,i.jsx)("path",{d:"M15.8741 15.7375L20 11.4997L15.8741 7.26181L14.6451 8.52413L17.542 11.4997L14.6451 14.4752L15.8741 15.7375Z",fill:"currentColor"}),(0,i.jsx)("path",{d:"M11.1309 7H12.8689V16H11.1309V7Z",fill:"currentColor"})]}))},U=t(76369),G=t(80018),J=function(e){return(0,i.jsx)(q.s,(0,c.Z)((0,u.Z)({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{children:(0,i.jsx)("path",{d:"M3 17.25V21H6.75L17.81 9.94L14.06 6.19L3 17.25ZM20.71 7.04C21.1 6.65 21.1 6.02 20.71 5.63L18.37 3.29C17.98 2.9 17.35 2.9 16.96 3.29L15.13 5.12L18.88 8.87L20.71 7.04Z",fill:"currentColor"})}))},X=function(e){return(0,i.jsx)(q.s,(0,c.Z)((0,u.Z)({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{children:(0,i.jsx)("path",{d:"M9 3V4H4V6H5V19C5 19.5304 5.21071 20.0391 5.58579 20.4142C5.96086 20.7893 6.46957 21 7 21H17C17.5304 21 18.0391 20.7893 18.4142 20.4142C18.7893 20.0391 19 19.5304 19 19V6H20V4H15V3H9ZM7 6H17V19H7V6ZM9 8V17H11V8H9ZM13 8V17H15V8H13Z",fill:"currentColor"})}))},K=t(73549),Q=t(73673),$=t(828),ee=t(53987),ne=t(34569),te=function(e,n){var t=(0,$.Z)((0,ee.c)((function(){return{type:M.YP.TreeItem,collect:function(e){return{isDragging:!!e.isDragging(),item:e.getItem()}},item:e,end:function(e,t){var r=t.getDropResult(),i=function(e,n){var t=(0,M.zE)(e),r=null===n||void 0===n?void 0:n.url,i=e.url;return t&&r!==i}(e,r);if(i&&r&&n){var o=(0,v.O)(r.url,e.value);n([{node:e,updateValues:(0,c.Z)((0,u.Z)({},e),{path:o})}])}}}})),2),r=t[0].item,i=t[1],o=(0,$.Z)((0,ne.L)((function(){return{accept:M.YP.TreeItem,drop:function(n,t){if(!t.didDrop())return e},collect:function(e){return{isOver:!!e.isOver({shallow:!0})}}}}),[e]),2);return{item:r,isOver:o[0].isOver,drag:i,drop:o[1]}};var re=function(e){var n=e.node,t=(0,P.Wr)(),a=t.onClick,l=t.onRenameItem,p=t.onDelete,f=t.isAnyFileLoading,g=t.onSaveFile,C=t.onSetFileRenaming,S=t.renameInputValue,y=t.updateRenameInputValue,w=(0,o.useCallback)((function(){C(n,!1)}),[C,n]),I=(0,o.useCallback)((function(){C(n,!0)}),[C,n]),L=n.value,k=n.path,b=n.depthLevel,_=n.isNotSaved,j=n.isReadonly,V=n.isActive,R=n.isEntry,Z=void 0!==R&&R,E=n.isLoading,A=void 0!==E&&E,T=n.isRenaming,D=void 0!==T&&T,z=te(n,l),N=z.item,q=z.isOver,$=z.drag,ee=z.drop,ne=(0,o.useMemo)((function(){return q&&(null===N||void 0===N?void 0:N.url)!==n.url}),[q,null===N||void 0===N?void 0:N.url,n.url]),re=(0,o.useCallback)((function(){D&&w()}),[D,w]),ie=h(re),oe=(0,o.useMemo)((function(){return function(e){switch((0,m.m)(e)){case M.ml.MD:return Y;case M.ml.HTML:default:return B}}(k)}),[k]),ae=(0,o.useCallback)(function(){var e=(0,s.Z)((function(e){var t;return(0,d.__generator)(this,(function(r){switch(r.label){case 0:return w(),l?(t=(0,v.O)(n.url,e),[4,l([{node:n,updateValues:(0,c.Z)((0,u.Z)({},n),{path:t})}])]):[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}));return function(n){return e.apply(this,arguments)}}(),[n,l,w]),le=(0,o.useCallback)((function(){p&&p([{node:n}])}),[n,p]),se=(0,o.useCallback)((function(){g&&g(k)}),[k,g]),ue=(0,o.useCallback)((function(){a(n)}),[a,n]);return(0,i.jsx)("div",{ref:ee,children:(0,i.jsx)("div",{ref:$,className:(0,Q.cn)((0,r.Z)({},x().targetFolder,ne)),children:(0,i.jsx)("div",{ref:ee,children:(0,i.jsxs)(F,{isFolder:!1,path:k,isActive:V||!1,depthLevel:b,wrapperRef:ie,children:[A&&(0,i.jsx)(O.a,{loading:!0}),_&&(0,i.jsx)(U.n,{style:{width:"8px"}}),D?(0,i.jsx)(H,{onSubmit:ae,value:S,onChange:y,itemType:M.YP.File}):(0,i.jsx)("div",{children:(0,i.jsx)(W.zx,{className:x().itemButton,mode:W.qo.TransparentLight,size:W.qE.Small,text:L,LeftIcon:oe,onClick:ue})}),!f&&!j&&!Z&&(0,i.jsxs)("div",{className:x().fileControls,children:[!!l&&(0,i.jsx)(W.zx,{className:x().controlFileBtn,mode:W.qo.TransparentLight,size:W.qE.Small,LeftIcon:D?G.W:J,onClick:D?w:I}),!!p&&(0,i.jsx)(W.zx,{className:x().controlFileBtn,mode:W.qo.TransparentLight,size:W.qE.Small,LeftIcon:X,onClick:le})]}),_&&se&&(0,i.jsx)(W.zx,{className:x().controlFileBtn,mode:W.qo.TransparentLight,size:W.qE.Small,LeftIcon:K.k,onClick:se})]})})})})},ie=function(e){var n=e.node,t=(0,P.Wr)(),a=t.addItemInputVisibility,s=t.onRenameItem,u=te(n,s),c=u.item,d=u.isOver,p=u.drag,f=u.drop,h=(0,o.useMemo)((function(){return d&&(null===c||void 0===c?void 0:c.url)!==n.url}),[d,null===c||void 0===c?void 0:c.url,n.url]);return(0,i.jsxs)("div",{ref:f,children:[(0,i.jsx)("div",{ref:p,className:l()((0,r.Z)({},x().targetFolder,h)),children:(0,i.jsx)("div",{ref:f,children:(0,i.jsx)(N,{node:n})})}),(0,i.jsxs)("ul",{className:l()((0,r.Z)({},x().targetFolder,h)),children:[a&&n.isActive&&(0,i.jsx)("li",{children:(0,i.jsx)(T,{parentFolderNode:n})},"add-item-input"),n.isOpen&&n.children.map((function(e){return(0,i.jsxs)("li",{children:[e.type===M.YP.File&&(0,i.jsx)(re,{node:e}),e.type===M.YP.Folder&&(0,i.jsx)(ie,{node:e})]},e.path)}))]})]})}},17796:function(e,n,t){"use strict";t.d(n,{mp:function(){return h}});var r=t(828),i=t(85893),o=t(67294),a=t(55541),l=t(42043),s=t(64148),u=t(29815),c=t(37403),d=t(93134),p=t(94501),f=t(6199),h=function(e){var n=e.data,t=e.activeFolder,h=e.setActiveFolder,v=e.onClick,m=e.onAddItem,g=e.onDeleteItem,C=e.onRenameItem,x=e.hideAddFileInput,F=e.addItemInputVisibility,S=e.onSaveFile,y=(0,r.Z)(function(e){var n=(0,o.useMemo)((function(){return(0,c.iV)(e)}),[e]),t=(0,o.useState)([]),r=t[0],i=t[1];(0,o.useEffect)((function(){var e=[];(0,c.Dr)(n,(function(n){n.type===d.YP.Folder&&e.push(n.path)})),i(e)}),[]);var a=(0,o.useState)(n),l=a[0],s=a[1];(0,o.useEffect)((function(){var e=(0,c.Af)(n);(0,c.Dr)(e,(function(e){e.type===d.YP.Folder&&(e.isOpen=r.includes(e.path))})),s(e)}),[r,n]);var p=(0,o.useCallback)((function(e,n){i((function(t){var r=t.includes(e);return!0!==n||r?!1===n&&r?t.filter((function(n){return n!==e})):void 0===n?r?t.filter((function(n){return n!==e})):(0,u.Z)(t).concat([e]):t:(0,u.Z)(t).concat([e])}))}),[]),f=(0,o.useState)(""),h=f[0],v=f[1],m=(0,o.useCallback)((function(e){v(e)}),[]),g=(0,o.useState)(""),C=g[0],x=g[1],F=(0,o.useCallback)((function(e){x(e)}),[]),S=(0,o.useCallback)((function(e,n){var t=(0,c.Af)(l);try{var r=(0,c.Pt)(t,(function(n){return n.path===e.path}));if(!r)throw new Error("Node not found");r.isRenaming=n,m(n?r.value:""),s(t)}catch(i){}}),[l,m]);return[l,{renameInputValue:h,addInputValue:C},{onSetIsFolderOpened:p,onSetFileRenaming:S,updateRenameInputValue:m,updateAddInputValue:F}]}(n),3),w=y[0],I=y[1],L=I.renameInputValue,k=I.addInputValue,b=y[2],_=b.onSetIsFolderOpened,j=b.onSetFileRenaming,V=b.updateRenameInputValue,M=b.updateAddInputValue,R=(0,o.useMemo)((function(){return n.some((function(e){return e.isLoading}))}),[n]),Z=(0,o.useCallback)((function(){x&&(x(),M(""))}),[x,M]),E=function(e,n,t,r){var i=(0,o.useCallback)((function(n){(0,d.zE)(n)&&e&&e([{node:n}])}),[e]);return(0,o.useCallback)((function(e){t&&t(e.url),r&&r(),(0,d.zE)(e)?i(e):n(e.path,!e.isOpen)}),[t,n,i,r])}(v,_,h,Z);return function(e,n,t){var r=(0,f.z)(n);(0,o.useEffect)((function(){!r&&n&&e(t||"",!0)}),[r,n,t,e])}(_,F,t),(0,i.jsx)(a.W,{backend:l.PD,children:(0,i.jsx)(p.Gx,{onSetFileRenaming:j,onClick:E,onAddItem:m,onRenameItem:C,onDelete:g,setActiveFolder:h,addItemInputVisibility:F,hideAddFileInput:Z,onSaveFile:S,isAnyFileLoading:R,onSetIsFolderOpened:_,updateRenameInputValue:V,updateAddInputValue:M,renameInputValue:L,addInputValue:k,children:(0,i.jsx)(s.p,{node:w})})})}},37403:function(e,n,t){"use strict";t.d(n,{Af:function(){return y},Bn:function(){return x},Dr:function(){return d},En:function(){return f},HY:function(){return F},H_:function(){return L},Lf:function(){return C},Mo:function(){return k},OK:function(){return m},Pt:function(){return p},Sz:function(){return g},Yn:function(){return h},bE:function(){return c},iV:function(){return l},oY:function(){return I},vD:function(){return v}});var r=t(26042),i=t(69396),o=t(29815),a=t(93134);function l(e,n){for(var t=function(t){for(var s=function(e){var n=d.children.find((function(n){return n.type===a.YP.Folder&&n.value===c[e]}));if(n)d=n;else{var t=w(c.slice(0,e+1)),r=w(c.slice(0,e)),i={value:c[e],type:a.YP.Folder,isOpen:!0,path:t,pathParts:(0,o.Z)(d.pathParts).concat([c[e]]),url:r,depthLevel:e+1,children:[],isActive:!1};d.children.push(i),d=i}},u=e[t],c=u.path.split("/").filter(Boolean),d=l,p=0;p<c.length-1;p+=1)s(p);var f,h,v,m="/"===(f=u.path)[f.length-1]?a.YP.Folder:a.YP.File,g=m===a.YP.File?w(c.slice(0,-1)):w(c.slice(0)),C=void 0;m===a.YP.Folder?C=(0,i.Z)((0,r.Z)({},u),{isOpen:!0,pathParts:(0,o.Z)(d.pathParts).concat([c[c.length-1]]),type:a.YP.Folder,value:c[c.length-1],url:g,depthLevel:c.length,children:[],entities:{},isActive:!1}):C=(0,i.Z)((0,r.Z)({},u),{pathParts:(0,o.Z)(d.pathParts).concat([c[c.length-1]]),type:a.YP.File,value:c[c.length-1],url:g,depthLevel:c.length,isReadonly:!1,isOpen:(null===n||void 0===n?void 0:n.path)===u.path||null!==(h=u.isOpen)&&void 0!==h&&h,isActive:(null===n||void 0===n?void 0:n.path)===u.path||null!==(v=u.isActive)&&void 0!==v&&v,isRenaming:!1,isNotSaved:!1});d.children.push(C)},l={type:a.YP.Folder,isOpen:!0,value:"",path:"/",pathParts:[""],url:"/",depthLevel:0,children:[],isActive:!0},s=0;s<e.length;s+=1)t(s);return u(l),l}function s(e,n){return e.type===a.YP.File&&n.type===a.YP.Folder?1:e.type===a.YP.Folder&&n.type===a.YP.File?-1:0}function u(e){if(e.type===a.YP.Folder){e.children.sort(s);for(var n=0;n<e.children.length;n+=1)u(e.children[n])}}var c=function(e){var n=[];if((0,a.zE)(e))return[e];for(var t=e.children,r=0;r<t.length;r+=1){var i,l=t[r],s=c(l);(i=n).push.apply(i,(0,o.Z)(s))}return n};function d(e,n){n(e),e.type===a.YP.Folder&&e.children.forEach((function(e){return d(e,n)}))}function p(e,n){if(n(e))return e;if(e.type===a.YP.Folder)for(var t=0;t<e.children.length;t+=1){var r=p(e.children[t],n);if(r)return r}return null}function f(e,n){var t;return null!==(t=p(e,(function(e){return(0,a.zE)(e)&&n(e)})))&&void 0!==t?t:null}function h(e,n){var t;return null!==(t=p(e,(function(e){return(0,a.qR)(e)&&n(e)})))&&void 0!==t?t:null}function v(e,n){var t=h(e,(function(e){return e.path===n}));if(t)return t;var r=v(e,L(n)),i=m(n);return r.children.push(i),i}function m(e){var n=e.split("/").filter(Boolean),t=n[n.length-1];return{type:a.YP.Folder,value:t,path:e,pathParts:n,depthLevel:n.length,url:e,children:[],isOpen:!0,isActive:!0}}function g(e,n){var t=e.split("/").filter(Boolean),o=t[t.length-1];return(0,i.Z)((0,r.Z)({},n),{type:a.YP.File,value:o,path:e,pathParts:t,depthLevel:t.length,url:w(t.slice(0,-1))})}function C(e,n){e.children.push(n),e.children.sort(s)}function x(e,n){e.children=e.children.filter((function(e){return e.path!==n}))}function F(e,n){d(e,(function(e){(0,a.qR)(e)&&(e.isActive=e.path===n)}))}function S(e){return e.type===a.YP.Folder?(0,i.Z)((0,r.Z)({},e),{children:e.children.map(S)}):(0,r.Z)({},e)}function y(e){return S(e)}function w(e){return e.length?"/".concat(e.join("/"),"/"):"/"}function I(e){return e.split("/").filter(Boolean).pop()||""}function L(e){var n=e.split("/").filter(Boolean);return n.pop(),w(n)}function k(e){var n=L(e);if("/"===n)return[n];var t=L(n);return(0,o.Z)(t).concat([n])}},72683:function(e,n,t){"use strict";t.d(n,{F:function(){return l}});var r=t(26042),i=t(69396),o=t(85893),a=(t(67294),t(94923)),l=function(e){return(0,o.jsx)(a.s,(0,i.Z)((0,r.Z)({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{children:(0,o.jsx)("path",{d:"M20 6H12L10 4H4C2.9 4 2.01 4.9 2.01 6L2 18C2 19.1 2.9 20 4 20H20C21.1 20 22 19.1 22 18V8C22 6.9 21.1 6 20 6ZM20 18H4V8H20V18Z",fill:"currentColor"})}))}},97654:function(e,n,t){"use strict";t.d(n,{G:function(){return l}});var r=t(26042),i=t(69396),o=t(85893),a=(t(67294),t(94923)),l=function(e){return(0,o.jsxs)(a.s,(0,i.Z)((0,r.Z)({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{children:[(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.01 3C2.01 1.9 2.9 1 4 1H12L18 7V13H15V16H12V21H3.99C2.89 21 2 20.1 2 19L2.01 3ZM11 2.5V8H16.5L11 2.5Z",fill:"currentColor"}),(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19 15H17V18H14V20H17V23H19V20H22V18H19V15Z",fill:"currentColor"})]}))}},73210:function(e,n,t){"use strict";t.d(n,{U:function(){return l}});var r=t(26042),i=t(69396),o=t(85893),a=(t(67294),t(94923)),l=function(e){return(0,o.jsx)(a.s,(0,i.Z)((0,r.Z)({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{children:(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.414 9.636L7 11.05L11.95 16L16.9 11.05L15.486 9.636L12.95 12.172V3H10.95L10.95 12.172L8.414 9.636ZM5 12H3V19C3 20.1046 3.89543 21 5 21H19C20.1046 21 21 20.1046 21 19V12H19V18C19 18.5523 18.5523 19 18 19H6C5.44772 19 5 18.5523 5 18V12Z",fill:"currentColor"})}))}},82115:function(e,n,t){"use strict";t.d(n,{R:function(){return l}});var r=t(26042),i=t(69396),o=t(85893),a=(t(67294),t(94923)),l=function(e){return(0,o.jsx)(a.s,(0,i.Z)((0,r.Z)({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{children:(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.51 3C3.51 1.9 4.4 1 5.5 1H13.5L19.5 7V13.1523L17.5 10.5L11 19H14.5V21H5.49C4.39 21 3.5 20.1 3.5 19L3.51 3ZM16.5 23H18.5V18H20.5L17.5 14L14.5 18H16.5V23ZM12.5 2.5V8H18L12.5 2.5Z",fill:"currentColor"})}))}},73549:function(e,n,t){"use strict";t.d(n,{k:function(){return l}});var r=t(26042),i=t(69396),o=t(85893),a=(t(67294),t(94923)),l=function(e){return(0,o.jsx)(a.s,(0,i.Z)((0,r.Z)({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{children:(0,o.jsx)("path",{xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",clipRule:"evenodd",d:"M16.7271 2C17.2576 2 17.7663 2.21071 18.1413 2.58579L21.4142 5.85866C21.7893 6.23373 22 6.74244 22 7.27287V21C22 21.5523 21.5523 22 21 22H3C2.44772 22 2 21.5523 2 21V3C2 2.44772 2.44772 2 3 2H16.7271ZM4 4V20H6V13C6 12.4477 6.44772 12 7 12H17C17.5523 12 18 12.4477 18 13V20H20L20 7.27287L16.7271 4H15V8C15 8.55228 14.5523 9 14 9H7C6.44772 9 6 8.55228 6 8V4H4ZM8 4V7H13V4H8ZM16 20H8V14H16V20Z",fill:"currentColor"})}))}},76369:function(e,n,t){"use strict";t.d(n,{n:function(){return l}});var r=t(26042),i=t(69396),o=t(85893),a=(t(67294),t(94923)),l=function(e){return(0,o.jsx)(a.s,(0,i.Z)((0,r.Z)({width:"8",height:"8",viewBox:"0 0 8 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{children:(0,o.jsx)("circle",{"data-qa":"unsaved-code-icon",cx:"4",cy:"4",r:"4",fill:"currentColor"})}))}},87197:function(e,n,t){"use strict";t.d(n,{Iv:function(){return o},P7:function(){return a},ov:function(){return r},qJ:function(){return i}});var r="/monaco/workers",i=2,o=4,a={json:"json.worker.js",css:"css.worker.js",scss:"css.worker.js",html:"html.worker.js",typescript:"ts.worker.js",javascript:"ts.worker.js",default:"editor.worker.js",editorWorkerService:"editor.worker.js"}},37497:function(e,n,t){"use strict";t.d(n,{CW:function(){return c},Dj:function(){return u},F0:function(){return p},of:function(){return s},w1:function(){return f},yT:function(){return d}});var r,i=t(14924),o=t(81),a=t(20268),l=t(87197),s=(r={},(0,i.Z)(r,a.hiq.Info,"color-text"),(0,i.Z)(r,a.hiq.Warn,"color-orange"),(0,i.Z)(r,a.hiq.Error,"color-red"),r),u={attempt:null,resultsMeta:null,results:[],activeFile:null,linterResults:[]},c={js:o.X.JavaScript,ts:o.X.TypeScript,css:o.X.CSS,html:o.X.HTML,py:o.X.Python,java:o.X.Java,scss:o.X.SCSS,jsx:o.X.JavaScript,tsx:o.X.TypeScript},d={js:l.qJ,ts:l.qJ,css:l.qJ,html:l.qJ,py:l.Iv,java:l.qJ,scss:l.qJ,jsx:l.qJ,tsx:l.qJ},p={html:3,css:2,js:1,ts:0,py:0,java:0},f=["/index.html","/app.tsx","/app.jsx"]},81:function(e,n,t){"use strict";var r,i;t.d(n,{X:function(){return r},_:function(){return i}}),function(e){e.JavaScript="javascript",e.TypeScript="typescript",e.CSS="css",e.HTML="html",e.Python="python",e.Java="java",e.English="english",e.Sql="sql",e.SCSS="scss"}(r||(r={})),function(e){e.QuizTestTaskVersion="QuizTestTaskVersion",e.AttachmentTestTaskVersion="AttachmentTestTaskVersion",e.CodeEditorTestTaskVersion="CodeEditorTestTaskVersion",e.GithubTestTaskVersion="GithubTestTaskVersion",e.MarkupTestTaskVersion="MarkupTestTaskVersion",e.WebflowTestTaskVersion="WebflowTestTaskVersion"}(i||(i={}))},27954:function(e,n,t){"use strict";t.d(n,{Z:function(){return i},y:function(){return o}});var r=t(29815),i=function(e){return e[e.length-1]},o=function(e){return(0,r.Z)(e).sort((function(){return Math.random()-.5}))}},49294:function(e,n,t){"use strict";t.d(n,{U:function(){return i},m:function(){return o}});var r=t(27954),i=function(e){return e.slice(1)},o=function(e){return(0,r.Z)(e.split("."))}},96201:function(e){e.exports={editorContainer:"Monaco_editorContainer__kT3dL",placeholder:"Monaco_placeholder__0akwo"}},12525:function(e){e.exports={controlsBlock:"ControlsBlock_controlsBlock__vsaz7",btnSection:"ControlsBlock_btnSection__MuZ6E",tooltip:"ControlsBlock_tooltip__kzQ6l",placeholder:"ControlsBlock_placeholder__kT2bj"}},68579:function(e){e.exports={fileManagerWrapper:"FileManager_fileManagerWrapper__DhV5e",tree:"FileManager_tree__LVUt0",placeholder:"FileManager_placeholder__Pm3BU"}},2078:function(e){e.exports={resizeColHandler:"ResizeHandlers_resizeColHandler__uQZRR",mlAuto:"ResizeHandlers_mlAuto__GWGn1",resizeRowHandler:"ResizeHandlers_resizeRowHandler__zPvqV",browserResizeColumnHandler:"ResizeHandlers_browserResizeColumnHandler__Eqs4w",browserResizeRowHandler:"ResizeHandlers_browserResizeRowHandler__5zvFn",browserResizeIconWrapper:"ResizeHandlers_browserResizeIconWrapper__8hil6",browserResizeIcon:"ResizeHandlers_browserResizeIcon__UZ3MI",contentBlock:"ResizeHandlers_contentBlock__YO5to",isHidden:"ResizeHandlers_isHidden__K5oDm",placeholder:"ResizeHandlers_placeholder__McqP4"}},66303:function(e){e.exports={targetFolder:"TreeStyles_targetFolder__rLZ5Y",itemWrapper:"TreeStyles_itemWrapper__uNW7v",fileControls:"TreeStyles_fileControls__sPgkC",folder:"TreeStyles_folder__ZnZ40",activeFile:"TreeStyles_activeFile__TPisE",itemButton:"TreeStyles_itemButton__QGpsj",folderIcon:"TreeStyles_folderIcon__fJhZU",controlFileBtn:"TreeStyles_controlFileBtn__kReCV",hidden:"TreeStyles_hidden__RvVzb",itemInput:"TreeStyles_itemInput__44EmC",inputItemWrapper:"TreeStyles_inputItemWrapper__m_PLi",placeholder:"TreeStyles_placeholder__gL2lk"}},29616:function(){}}]);
//# sourceMappingURL=9378-f370a163cd3368be.js.map